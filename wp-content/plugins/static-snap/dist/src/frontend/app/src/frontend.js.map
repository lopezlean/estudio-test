{"version":3,"file":"frontend.js","sourceRoot":"","sources":["../../../../../src/frontend/app/src/frontend.ts"],"names":[],"mappings":";;;AAAA,oEAAsC;AACtC,6EAA8C;AAoB9C;IAEE;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,gBAAM,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,qBAAU,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9C,CAAC;IAEM,yBAAM,GAAb;QACE,IAAM,aAAa,GAAG;YACpB,oBAAoB,EAAE,KAAK;YAC3B,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE,IAAI;YACZ,OAAO,EAAE;gBACP,MAAM,EAAE;oBACN,QAAQ,EAAE,EAAE;oBACZ,IAAI,EAAE,SAAS;iBAChB;aACF;YAED,gBAAgB,EAAE,cAAc;SACjC,CAAC;QACF,IAAI,OAAO,MAAM,CAAC,wBAAwB,KAAK,WAAW,EAAE,CAAC;YAC3D,qCAAqC;YACrC,KAAK,IAAM,GAAG,IAAI,MAAM,CAAC,wBAAwB,EAAE,CAAC;gBAClD,IAAM,QAAQ,GAAG,GAAmD,CAAC;gBACrE,IAAI,MAAM,CAAC,wBAAwB,CAAC,QAAQ,CAAC,KAAK,MAAM,EAAE,CAAC;oBACxD,MAAM,CAAC,wBAAwB,CAAC,QAAQ,CAAa,GAAG,IAAI,CAAC;gBAChE,CAAC;qBAAM,IAAI,MAAM,CAAC,wBAAwB,CAAC,QAAQ,CAAC,KAAK,OAAO,EAAE,CAAC;oBAChE,MAAM,CAAC,wBAAwB,CAAC,QAAQ,CAAa,GAAG,KAAK,CAAC;gBACjE,CAAC;YACH,CAAC;YACD,OAAO,MAAM,CAAC,wBAAwB,CAAC;QACzC,CAAC;QACD,OAAO,aAAa,CAAC;IACvB,CAAC;IACH,eAAC;AAAD,CAAC,AAnCD,IAmCC","sourcesContent":["import Search from './modules/search';\nimport FuseSearch from './search/fuse-search';\n\ndeclare global {\n  interface Window {\n    StaticSnapFrontendConfig: {\n      locale: string | null;\n      is_static: boolean | string;\n      is_admin_bar_showing: boolean | string;\n      search_index_url: string;\n      options: {\n        search: {\n          type: string;\n          settings: Record<string, unknown>;\n        };\n      };\n    };\n    StaticSnapFrontend: Frontend;\n  }\n}\n\nexport default class Frontend {\n  public Search: Search;\n  constructor() {\n    this.Search = new Search(this);\n    this.Search.addModule(new FuseSearch(this));\n  }\n\n  public config(): typeof window.StaticSnapFrontendConfig {\n    const defaultConfig = {\n      is_admin_bar_showing: false,\n      is_static: false,\n      locale: null,\n      options: {\n        search: {\n          settings: {},\n          type: 'fuse-js',\n        },\n      },\n\n      search_index_url: '/search.json',\n    };\n    if (typeof window.StaticSnapFrontendConfig !== 'undefined') {\n      // convert boolean strings to boolean\n      for (const key in window.StaticSnapFrontendConfig) {\n        const keyIndex = key as keyof typeof window.StaticSnapFrontendConfig;\n        if (window.StaticSnapFrontendConfig[keyIndex] === 'true') {\n          (window.StaticSnapFrontendConfig[keyIndex] as boolean) = true;\n        } else if (window.StaticSnapFrontendConfig[keyIndex] === 'false') {\n          (window.StaticSnapFrontendConfig[keyIndex] as boolean) = false;\n        }\n      }\n      return window.StaticSnapFrontendConfig;\n    }\n    return defaultConfig;\n  }\n}\n"]}