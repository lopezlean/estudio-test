{"version":3,"file":"nav.js","sourceRoot":"","sources":["../../../../../../src/dashboard/app/src/layout/nav.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useEffect } from 'react';\n\nimport AppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport IconButton from '@mui/material/IconButton';\nimport Stack from '@mui/material/Stack';\nimport { useLocation } from 'react-router-dom';\n\nimport Icon from '@staticsnap/dashboard/components/icon/icon';\nimport LogoFull from '@staticsnap/dashboard/components/logo-full';\nimport Scrollbar from '@staticsnap/dashboard/components/scrollbar';\nimport Sidebar from '@staticsnap/dashboard/components/sidebar';\nimport { SIDEBAR_WIDTH } from '@staticsnap/dashboard/components/sidebar/config';\nimport { SidebarSectionData } from '@staticsnap/dashboard/components/sidebar/types';\nimport { useNavData } from '@staticsnap/dashboard/hooks/use-nav-data';\nimport { useResponsive } from '@staticsnap/dashboard/hooks/use-responsive';\n\ntype Props = {\n  openNav: boolean;\n  onCloseNav: VoidFunction;\n  onOpenNav: VoidFunction;\n};\n\nexport default function Nav({ openNav, onCloseNav, onOpenNav }: Props) {\n  const pathname = useLocation();\n\n  const mdUp = useResponsive('up', 'md');\n\n  const navData = useNavData();\n\n  useEffect(() => {\n    if (openNav) {\n      onCloseNav();\n    }\n\n    const staticSnapMenu = document.getElementById('toplevel_page_static-snap');\n    if (!staticSnapMenu) {\n      return;\n    }\n    const staticSnapMenuItems = staticSnapMenu?.getElementsByTagName('li');\n    if (!staticSnapMenuItems) {\n      return;\n    }\n    // remove all current classes from menu items\n    for (let i = 0; i < staticSnapMenuItems.length; i++) {\n      const staticSnapMenuItem = staticSnapMenuItems[i];\n      staticSnapMenuItem.classList.remove('current');\n    }\n\n    for (let i = 0; i < staticSnapMenuItems.length; i++) {\n      const staticSnapMenuItem = staticSnapMenuItems[i];\n\n      const staticSnapMenuItemLink = staticSnapMenuItem.getElementsByTagName('a')[0];\n      if (!staticSnapMenuItemLink) {\n        continue;\n      }\n\n      const staticSnapMenuItemLinkHref = staticSnapMenuItemLink.getAttribute('href');\n      if (!staticSnapMenuItemLinkHref) {\n        continue;\n      }\n      // get hash part\n      const hashIndex = staticSnapMenuItemLinkHref.indexOf('#');\n      let menuPath = '/';\n      if (hashIndex !== -1) {\n        menuPath = staticSnapMenuItemLinkHref.slice(\n          hashIndex + 1,\n          staticSnapMenuItemLinkHref.length\n        );\n      }\n\n      if (pathname.pathname === menuPath) {\n        staticSnapMenuItem.classList.add('current');\n        return;\n      }\n      const defaultMenuPath = '/environments';\n\n      if (menuPath === defaultMenuPath && pathname.pathname !== '/') {\n        staticSnapMenuItem.classList.add('current');\n        return;\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname]);\n\n  const renderContent = (\n    <Scrollbar\n      sx={{\n        '& .simplebar-content': {\n          display: 'flex',\n          flexDirection: 'column',\n          height: 1,\n        },\n        height: 1,\n      }}\n    >\n      <LogoFull\n        sx={{\n          mb: 1,\n          ml: 4,\n          mt: 5,\n          svg: {\n            maxWidth: { md: SIDEBAR_WIDTH - 50, xs: 150 },\n          },\n        }}\n      />\n\n      <Sidebar data={navData as SidebarSectionData[]} />\n\n      <Box sx={{ flexGrow: 1 }} />\n    </Scrollbar>\n  );\n\n  return (\n    <>\n      {mdUp ? (\n        <Box\n          component=\"nav\"\n          sx={{\n            backgroundColor: 'background.default',\n            flexShrink: {\n              lg: 0,\n            },\n            minHeight: {\n              lg: 'calc(100vh - 32px)',\n            },\n            width: {\n              lg: SIDEBAR_WIDTH,\n            },\n          }}\n        >\n          <Stack\n            sx={{\n              height: 1,\n              position: 'relative',\n              width: SIDEBAR_WIDTH,\n            }}\n          >\n            {renderContent}\n          </Stack>\n        </Box>\n      ) : (\n        <AppBar position=\"sticky\" color=\"default\">\n          <Toolbar\n            sx={{\n              height: 64,\n            }}\n          >\n            <IconButton\n              onClick={onOpenNav}\n              sx={{\n                color: 'text.primary',\n                ml: 1,\n              }}\n            >\n              <Icon icon={'heroicons-outline:menu-alt-2'} />\n            </IconButton>\n            <Drawer\n              open={openNav}\n              onClose={onCloseNav}\n              PaperProps={{\n                sx: {\n                  maxWidth: '20rem',\n                  pt: 6,\n                  width: '80vw',\n                },\n              }}\n            >\n              {renderContent}\n            </Drawer>\n          </Toolbar>\n        </AppBar>\n      )}\n    </>\n  );\n}\n"]}