{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../../../src/dashboard/app/src/components/deployment-done-dialog/index.tsx"],"names":[],"mappings":";;;;AAAA,qDAAgE;AAEhE,kEAAoC;AACpC,wEAA0C;AAC1C,wEAA0C;AAC1C,sFAAwD;AACxD,sFAAwD;AACxD,8FAAgE;AAChE,kFAAoD;AACpD,sEAAwC;AAGxC,wCAA8C;AAE9C,wDAA8C;AAE9C,IAAM,UAAU,GAAG,eAAK,CAAC,UAAU,CAAC,SAAS,UAAU,CACrD,KAGC,EACD,GAAuB;IAEvB,OAAO,uBAAC,eAAK,qBAAC,SAAS,EAAC,IAAI,EAAC,GAAG,EAAE,GAAG,IAAM,KAAK,EAAI,CAAC;AACvD,CAAC,CAAC,CAAC;AAMH,SAAwB,oBAAoB,CAAC,EAAqC;;QAAnC,MAAM,YAAA;IAC7C,IAAA,KAAkB,IAAA,gBAAQ,EAAC,KAAK,CAAC,EAAhC,IAAI,QAAA,EAAE,OAAO,QAAmB,CAAC;IAExC,IAAM,WAAW,GAAG,IAAA,mBAAW,EAAC;QAC9B,OAAO,CAAC,KAAK,CAAC,CAAC;IACjB,CAAC,EAAE,EAAE,CAAC,CAAC;IACP,IAAM,qBAAqB,GAAG,IAAA,mBAAW,EAAC;QACxC,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,QAAQ,CAAC,CAAC;IAC/C,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAA,iBAAS,EAAC;QACR,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;YACnB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC1B,CAAC;IACH,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;IAErB,OAAO,CACL,2DACE,wBAAC,gBAAM,IAAC,IAAI,EAAE,IAAI,EAAE,mBAAmB,EAAE,UAAU,EAAE,WAAW,QAAC,OAAO,EAAE,WAAW,aACnF,uBAAC,qBAAW,cAAE,IAAA,SAAE,EAAC,iBAAiB,EAAE,aAAa,CAAC,GAAe,EACjE,uBAAC,uBAAa,cACZ,uBAAC,2BAAiB,IAAC,EAAE,EAAC,gCAAgC,YACpD,wBAAC,aAAG,IAAC,aAAa,EAAE,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE,aACvE,uBAAC,cAAwB,KAAG,EAC3B,IAAA,SAAE,EACD,IAAA,cAAO,EACL,kFAAkF,EAClF,CAAA,MAAA,MAAM,CAAC,eAAe,0CAAE,gBAAgB,KAAI,IAAI,CACjD,EACD,aAAa,CACd,IACG,GACY,GACN,EAChB,wBAAC,uBAAa,eACZ,uBAAC,gBAAM,IAAC,OAAO,EAAC,WAAW,EAAC,OAAO,EAAE,qBAAqB,YACvD,IAAA,SAAE,EAAC,kBAAkB,EAAE,aAAa,CAAC,GAC/B,EACT,uBAAC,gBAAM,IAAC,OAAO,EAAE,WAAW,YAAG,IAAA,SAAE,EAAC,OAAO,EAAE,aAAa,CAAC,GAAU,IACrD,IACT,GACR,CACJ,CAAC;AACJ,CAAC;AA3CD,uCA2CC","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\n\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Slide from '@mui/material/Slide';\nimport { TransitionProps } from '@mui/material/transitions';\nimport StatusInterface from '@staticsnap/dashboard/interfaces/status.interface';\nimport { __, sprintf } from '@wordpress/i18n';\n\nimport DeploymentDoneDialogIcon from './icon';\n\nconst Transition = React.forwardRef(function Transition(\n  props: TransitionProps & {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    children: React.ReactElement<any, any>;\n  },\n  ref: React.Ref<unknown>\n) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\ntype DeploymentDoneDialogProps = {\n  status: StatusInterface;\n};\n\nexport default function DeploymentDoneDialog({ status }: DeploymentDoneDialogProps) {\n  const [open, setOpen] = useState(false);\n\n  const handleClose = useCallback(() => {\n    setOpen(false);\n  }, []);\n  const handleVisitStaticSite = useCallback(() => {\n    window.open('https://open.uwh.es', '_blank');\n  }, []);\n\n  useEffect(() => {\n    if (status.is_done) {\n      setOpen(status.is_done);\n    }\n  }, [status.is_done]);\n\n  return (\n    <>\n      <Dialog open={open} TransitionComponent={Transition} keepMounted onClose={handleClose}>\n        <DialogTitle>{__('Congratulations', 'static-snap')}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            <Box flexDirection={'row'} alignItems={'center'} display={'flex'} gap={10}>\n              <DeploymentDoneDialogIcon />\n              {__(\n                sprintf(\n                  'Deployment for Environment %s was successful! You can now visit the static site.',\n                  status.last_deployment?.environment_name || null\n                ),\n                'static-snap'\n              )}\n            </Box>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"contained\" onClick={handleVisitStaticSite}>\n            {__('View static site', 'static-snap')}\n          </Button>\n          <Button onClick={handleClose}>{__('Close', 'static-snap')}</Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n"]}