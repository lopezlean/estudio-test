{"version":3,"file":"sidebar-list.js","sourceRoot":"","sources":["../../../../../../../src/dashboard/app/src/components/sidebar/sidebar-list.tsx"],"names":[],"mappings":";;;;AAAA,+BAAyD;AAEzD,4EAA8C;AAC9C,qDAA+C;AAE/C,wEAA+D;AAQ/D,SAAwB,WAAW,CAAC,EAA+C;QAA7C,IAAI,UAAA,EAAE,KAAK,WAAA,EAAE,QAAQ,cAAA;IACjD,IAAA,QAAQ,GAAK,IAAA,8BAAW,GAAE,SAAlB,CAAmB;IAEnC,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAE7F,IAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAE1C,IAAA,KAAkB,IAAA,gBAAQ,EAAC,MAAM,CAAC,EAAjC,IAAI,QAAA,EAAE,OAAO,QAAoB,CAAC;IAEzC,IAAM,YAAY,GAAG,IAAA,mBAAW,EAAC;QAC/B,OAAO,CAAC,UAAC,IAAI,IAAK,OAAA,CAAC,IAAI,EAAL,CAAK,CAAC,CAAC;IAC3B,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAM,WAAW,GAAG,IAAA,mBAAW,EAAC;QAC9B,OAAO,CAAC,KAAK,CAAC,CAAC;IACjB,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAA,iBAAS,EAAC;QACR,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,WAAW,EAAE,CAAC;QAChB,CAAC;IACH,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC,CAAC;IAEpC,OAAO,CACL,6DACE,uBAAC,sBAAW,IACV,IAAI,EAAE,IAAI,EACV,KAAK,EAAE,KAAK,EACZ,IAAI,EAAE,IAAI,EACV,MAAM,EAAE,MAAM,EACd,YAAY,EAAE,YAAY,EAC1B,OAAO,EAAE,YAAY,GACrB,EAED,QAAQ,IAAI,CACX,uBAAC,kBAAQ,IAAC,EAAE,EAAE,IAAI,EAAE,aAAa,kBAC/B,uBAAC,cAAc,IAAC,IAAI,EAAE,IAAI,CAAC,QAA8B,EAAE,KAAK,EAAE,KAAK,GAAI,GAClE,CACZ,IACA,CACJ,CAAC;AACJ,CAAC;AAzCD,8BAyCC;AAOD,SAAS,cAAc,CAAC,EAAoC;QAAlC,IAAI,UAAA,EAAE,KAAK,WAAA;IACnC,OAAO,CACL,2DACG,IAAI,CAAC,GAAG,CAAC,UAAC,IAAI,IAAK,OAAA,CAClB,uBAAC,WAAW,IAEV,IAAI,EAAE,IAAI,EACV,KAAK,EAAE,KAAK,GAAG,CAAC,EAChB,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAHpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAI3B,CACH,EAPmB,CAOnB,CAAC,GACD,CACJ,CAAC;AACJ,CAAC","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\n\nimport Collapse from '@mui/material/Collapse';\nimport { useLocation } from 'react-router-dom';\n\nimport SidebarItem, { SidebarListProps } from './sidebar-item';\n\ntype SidebarListRootProps = {\n  data: SidebarListProps;\n  depth: number;\n  hasChild: boolean;\n};\n\nexport default function SidebarList({ data, depth, hasChild }: SidebarListRootProps) {\n  const { pathname } = useLocation();\n\n  const active = data.path === pathname || (data.path !== '/' && pathname.includes(data.path));\n\n  const externalLink = data.path.includes('http');\n\n  const [open, setOpen] = useState(active);\n\n  const handleToggle = useCallback(() => {\n    setOpen((prev) => !prev);\n  }, []);\n\n  const handleClose = useCallback(() => {\n    setOpen(false);\n  }, []);\n\n  useEffect(() => {\n    if (!active) {\n      handleClose();\n    }\n  }, [active, handleClose, pathname]);\n\n  return (\n    <>\n      <SidebarItem\n        item={data}\n        depth={depth}\n        open={open}\n        active={active}\n        externalLink={externalLink}\n        onClick={handleToggle}\n      />\n\n      {hasChild && (\n        <Collapse in={open} unmountOnExit>\n          <SidebarSubList data={data.children as SidebarListProps[]} depth={depth} />\n        </Collapse>\n      )}\n    </>\n  );\n}\n\ntype SidebarListSubProps = {\n  data: SidebarListProps[];\n  depth: number;\n};\n\nfunction SidebarSubList({ data, depth }: SidebarListSubProps) {\n  return (\n    <>\n      {data.map((list) => (\n        <SidebarList\n          key={list.title + list.path}\n          data={list}\n          depth={depth + 1}\n          hasChild={!!list.children}\n        />\n      ))}\n    </>\n  );\n}\n"]}